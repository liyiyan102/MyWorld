<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <link rel="stylesheet" href="https://cache.amap.com/lbs/static/main.css"/> -->
    <script type="text/javascript"
            src="https://webapi.amap.com/maps?v=1.4.2&key=f46643cc2404e5ed200af5b344e35d1f"></script>
</head>
<body>
  <input id="keyword" type="text" v-model="storename" @input="inputname"></input>

<div id="demo">0</div>
<button type="button" onclick="Person">add</button>
<!-- <div id="panel">
</div> -->
<script>

  function Person() {
    // this.age = 100;
    // function change () {
    //   this.age++;
    //   document.getElementById("demo").innerHTML =
    // }
  }

// debugger
// var test = function() {
//   var ret = [];
//   for(var i = 0; i < 5; i++) {
//     var self = this;
//     ret[i] = function() {
//       debugger
//       var a=self.i
//       debugger
//       console.log(this.i);
//       return i;
//     }
//   }
//   return ret;
// }

var test = () => {
  var ret = [];
  debugger
  for(var i = 0; i < 5; i++) {
    var self = this;
    ret[i] = () => {
      debugger
      var self1=this;
      var a=self.i
      debugger
      console.log(this.i);
      return i;
    }
  }
  return ret;
}
// console.log("test0:");
// console.log(test()[0]());
// console.log("test1:");
// console.log(test()[1]());

// function timeout(ms, val) {
//   return new Promise((resolve, reject) => {
//     setTimeout(resolve(val), ms);
//   });
// }
//
// timeout(3000, "111").then((value) => {
//   console.log(value);
//   return timeout(4000, "222")
// }).then((value) => {
//   console.log(value);
//
//   // console.log("aaa");
// });

// let promise = new Promise(function(resolve, reject) {
//   console.log('Promise');
//   resolve();
// });
//
// promise.then(function() {
//   console.log('resolved.');
// });
//
// console.log('Hi!');

// var p = new Promise(function(resolve, reject){
//   resolve("success");
// });
//
// p.then(function(value){
//   console.log(value);
// });
//
// console.log("first");


// const getJSON = function(url) {
//   const promise = new Promise(function(resolve, reject){
//     const handler = function() {
//       if (this.readyState !== 4) {
//         return;
//       }
//       if (this.status === 200) {
//         resolve(this.response);
//       } else {
//         reject(new Error(this.statusText));
//       }
//     };
//     const client = new XMLHttpRequest();
//     client.open("GET", url);
//     client.onreadystatechange = handler;
//     client.responseType = "json";
//     client.setRequestHeader("Accept", "application/json");
//     client.send();
//
//   });
//
//   return promise;
// };
//
// getJSON("https://www.baidu.com").then(function(json) {
//   console.log('Contents: ' + json);
// }, function(error) {
//   console.error('出错了', error);
//   console.log(error);
// });

// var list = [1,2,3,4,5,6,7,8,9,10];
// function timeout(ms) {
//   setTimeout((i) => {
//     console.log(list[i]);
//   },2000);
// }

// new Promise()



// const p1 = new Promise(function (resolve, reject) {
//   setTimeout(() => {
//     console.log("p1");
//     reject(new Error('fail'));}, 3000)
//
// })
//
// const p2 = new Promise(function (resolve, reject) {
//   setTimeout(() => {
//     console.log("p2");
//     resolve(p1);}, 1000)
// })
//
// p2
//   .then(result => {
//     console.log("then");
//   console.log(result);
// })
//   .catch(error => {
//     console.log("catch");
//     console.log(error);
//
//   })

// const asyncReadFile = async function () {
//   const f1 = await readFile('/etc/fstab');
//   const f2 = await readFile('/etc/shells');
//   console.log(f1.toString());
//   console.log(f2.toString());
// };
//
// asyncReadFile();

var Thunk = function(fn) {
  return function (...args) {
    return function (callback) {
      return fn.call(this, ...args, callback);
    }
  };
};  

function f(a, cb) {
  cb(a);
}
const ft = Thunk(f);

ft(1)(console.log) // 1
</script>
 <!-- <script type="text/javascript" src="https://webapi.amap.com/demos/js/liteToolbar.js"></script> -->
</body>
</html>
